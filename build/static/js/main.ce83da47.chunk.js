(this.webpackJsonptwo=this.webpackJsonptwo||[]).push([[0],[,,,function(e,t){t.lwrite=function(e,t){localStorage.setItem(e,t)},t.lread=function(e){return localStorage.getItem(e)},t.lremove=function(e){localStorage.removeItem(e)}},,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,function(e,t){t.swrite=function(e,t){sessionStorage.setItem(e,t)},t.sread=function(e){return sessionStorage.getItem(e)},t.sremove=function(e){sessionStorage.removeItem(e)}},,,function(e,t,a){e.exports=a(57)},,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),s=(a(32),a(12)),l=a(4),u=a(6),i=a(5),m=a(9),d=(a(33),a(1)),p=a.n(d),b=a(2),f=(a(35),a(3)),h=function(e){var t=document.querySelector(".sidebar-auth-overlay"),a=document.querySelector(".sidebar-auth-overlay-text");t.style.display="block",a.innerHTML=e},E=function(){var e=document.querySelector(".sidebar-auth-overlay"),t=document.querySelector(".sidebar-auth-overlay-text");e.style.display="none",t.innerHTML=""},g=function(){return Object(f.lremove)("bkclbSid"),!0},v=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.prev=1,document.querySelector(".alert-area").innerHTML="...",e.next=5,fetch("https://frigid-fox.herokuapp.com/v1/users/siosu/now",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@book.club",password:"android@superUser",new:{email:t,password:a}})});case 5:n=e.sent,e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),h("Try again!"),setTimeout((function(){E()}),1e3),console.log(e.t0);case 13:if(!n.ok){e.next=20;break}return e.next=16,n.json();case 16:return r=e.sent,e.abrupt("return",r);case 20:return document.querySelector(".alert-area").innerHTML="Try again!",e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){document.querySelector("#mySidenav").style.width="0",document.querySelector(".main-content").style.marginLeft="0",document.querySelector(".main-content").style.width="100vw",document.querySelector(".navbar").style.width="100vw",document.querySelector(".burger").style.display="block"},w=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).initialState={email:"",password:""},e.state=e.initialState,e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},n,r))},e.showStatus=function(e){document.querySelector(".alert-area").innerHTML=e},e.switchFieldAccess=function(e){document.querySelector(".sidebar-auth-email").disabled=e,document.querySelector(".sidebar-auth-password").disabled=e,document.querySelector(".sidebar-auth-submit").disabled=e},e.runSubmit=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.switchFieldAccess(!0),e.showStatus("Getting you in!"),t.next=5,v(e.state.email,e.state.password);case 5:(n=t.sent)?(r=e.props.switchAuthState,Object(f.lwrite)("bkclbSid",[n.user._id,n.user.email,n.user.admin,n.user.superUser]),Object(f.lwrite)("bkclbSread",n.user.toRead?n.user.toRead:[]),r(!0),document.documentElement.clientWidth<800&&y(),window.location.reload()):(e.switchFieldAccess(!1),e.showStatus("Something was wrong; maybe your credentials?(!)"),e.setState(e.initialState));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return r.a.createElement("div",{id:"sidebar-auth-wrapper"},r.a.createElement("form",{className:"sidebar-auth",autoComplete:"off"},r.a.createElement("input",{type:"text",name:"email",id:"sidebar-auth-email",value:t,onChange:this.handleChange,required:!0,className:"sidebar-auth-email",placeholder:"Email",autoComplete:"off"}),r.a.createElement("input",{type:"password",name:"password",id:"sidebar-auth-password",value:a,onChange:this.handleChange,required:!0,className:"sidebar-auth-password",placeholder:"Password",autoComplete:"off"}),r.a.createElement("input",{type:"submit",name:"submit",id:"sidebar-auth-submit",onClick:this.runSubmit,className:"sidebar-auth-submit",value:"Sign In/Sign Up"}),r.a.createElement("span",{className:"alert-area"})))}}]),a}(n.Component),k=function(e){var t=e.pages.map((function(t,a){return r.a.createElement("a",{href:"Home"!==t?"/".concat(t.toLowerCase()):"/",key:a,id:t.toLowerCase()===e.active.toLowerCase()?"active-side-item":null,onClick:function(t){"/book"!==window.location.pathname&&t.preventDefault(),e.changeActivePage(null,a)}},t)}));return e.authState&&t.push(r.a.createElement("a",{disabled:!0,id:"login-state",style:{color:"lightgreen",background:"rgba(0, 0, 0, 0)",fontSize:"smaller"},key:1e3,href:"/user?id=".concat(Object(f.lread)("bkclbSid").split(",")[0]),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("strong",null,Object(f.lread)("bkclbSid").split(",")[1]))),t},S=function(e){return r.a.createElement("button",{id:"sidebar-logo",href:"#home",onClick:function(t){t.preventDefault(),e.changeActivePage(null,0)}},r.a.createElement("img",{className:"logo",src:"/bookclub-logo.png",alt:"Logo"}))},N=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).handleClosing=function(e){e.preventDefault(),y()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pages,a=e.changeActivePage,n=e.authState,c=e.switchAuthState,o=e.active;return r.a.createElement("div",{className:"sidebar-container"},r.a.createElement("div",{id:"mySidenav",className:"sidenav"},r.a.createElement("button",{className:"closebtn",onClick:this.handleClosing},"\xd7"),r.a.createElement(S,{changeActivePage:a}),r.a.createElement(k,{active:o,pages:t,changeActivePage:a,authState:n}),n?r.a.createElement("div",null):r.a.createElement(w,{changeActivePage:a,switchAuthState:c})))}}]),a}(n.Component),O=(a(36),function(e){return r.a.createElement("header",{className:"page-header-wrapper"},r.a.createElement("div",{className:"page-header"},r.a.createElement("span",{className:"page-header-text"},e.header)))}),j=(a(37),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.a.createElement("div",null,r.a.createElement(O,{header:"Hello, ".concat(Object(f.lread)("bkclbSid")?Object(f.lread)("bkclbSid").split(",")[1]:"Guest","!")}),r.a.createElement("div",{className:"home-card"},r.a.createElement("div",{className:"home-content"},r.a.createElement("div",null,r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"}))),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"*"),r.a.createElement("span",{className:"c4"},"Current goals - finish as many of these titles (at least 1) as you can, and \xa0write short complete reviews of as many of those as possible by 15th April 2020"),r.a.createElement("span",{className:"c2"},"*")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c4"},"Update the excel sheet as you progress: "),r.a.createElement("span",{className:"c1"},r.a.createElement("a",{className:"c5",href:"https://www.google.com/url?q=https://docs.google.com/spreadsheets/d/1o63L4dg396u5nsNMEgZkLGrlHOlNc5zWDTHKyq1BpKg/edit?usp%3Dsharing&sa=D&ust=1589819611110000"},"https://docs.google.com/spreadsheets/d/1o63L4dg396u5nsNMEgZkLGrlHOlNc5zWDTHKyq1BpKg/edit?usp=sharing"))),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"The book list, as decided during the previous session, was- ")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"1. Book Thief")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"2. Little Prince")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"3. The Spinning Silver")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"4. Memoirs of a Geisha")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"5. Mistborn")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"6. Local Author (eg. Hansda sowvendra shekar)")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"7. Sapiens")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"8. Do all roads lead to Jerusalem")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"(You can obviously read other books as well, just make sure to read atleast one of them before you begin reading any other.)")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"*"),r.a.createElement("span",{className:"c4"},"Which one should I start with?"),r.a.createElement("span",{className:"c2"},"*")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"- \xa0Check out this link, if you are new to reading pick any one of these book: "),r.a.createElement("span",{className:"c1"},r.a.createElement("a",{className:"c5",href:"https://www.google.com/url?q=http://vignette3.wikia.nocookie.net/4chanlit/images/e/e2/1365475090228.jpg&sa=D&ust=1589819611113000"},"http://vignette3.wikia.nocookie.net/4chanlit/images/e/e2/1365475090228.jpg")),r.a.createElement("span",{className:"c2"},"\xa0(Replace Lolita with Pale Fire by same author if you don't like Lolita's themes.)")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Depends on your reading experience and tastes, ask on the group.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Some are heavy on ideas, some on prose. Some are slow, others are fast.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Recommended starting points are 1984, Brave New World and Fahrenheit 451, Lord of the flies")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Some books contain explicitly sexual/taboo overtones.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Let us know if you can't read those and we'll recommend safer titles (on the group)")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"*"),r.a.createElement("span",{className:"c4"},"Where do I get these books?"),r.a.createElement("span",{className:"c2"},"*")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- e-books available at ")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"-- "),r.a.createElement("span",{className:"c1"},r.a.createElement("a",{className:"c5",href:"https://www.google.com/url?q=http://b-ok.org/&sa=D&ust=1589819611116000"},"http://b-ok.org/")),r.a.createElement("span",{className:"c2"},"\xa0")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"-- "),r.a.createElement("span",{className:"c1"},r.a.createElement("a",{className:"c5",href:"https://www.google.com/url?q=http://libgen.io/&sa=D&ust=1589819611116000"},"http://libgen.io/")),r.a.createElement("span",null,"\xa0or"),r.a.createElement("span",{className:"c1"},r.a.createElement("a",{className:"c5",href:"https://www.google.com/url?q=http://libgen.is/&sa=D&ust=1589819611116000"},"http://libgen.is/")),r.a.createElement("span",null,"\xa0")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"-- mobilism.org")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"-- "),r.a.createElement("span",{className:"c1"},r.a.createElement("a",{className:"c5",href:"https://www.google.com/url?q=https://www.reddit.com/r/Piracy/comments/2oftbu/guide_the_idiot_proof_guide_to_downloading_ebooks/&sa=D&ust=1589819611117000"},"https://www.reddit.com/r/Piracy/comments/2oftbu/guide_the_idiot_proof_guide_to_downloading_ebooks/")),r.a.createElement("span",{className:"c2"},"\xa0")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"-- The app \u2018Anybooks\u2019- provides a lot many ebooks.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- We recommend getting a Kindle if possible.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Use Amazon app / lithium e-book reader/ any other you prefer if reading on phone.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Use Calibre if reading on laptop/PC ")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"\xa0 \xa0https://calibre-ebook.com/download")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- If you want paperbacks, visit your nearest public library or order from Amazon.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- use Audible for audiobooks or torrent them.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"- Book club of IIT ISM also has some of these books. If it doesn\u2019t, request here and they will try to buy it later \u2014 "),r.a.createElement("span",{className:"c1"},r.a.createElement("a",{className:"c5",href:"https://www.google.com/url?q=https://forms.gle/Aoh8qwH1EcW46hEC6&sa=D&ust=1589819611119000"},"https://forms.gle/Aoh8qwH1EcW46hEC6")),r.a.createElement("span",{className:"c2"},"\xa0")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"* "),r.a.createElement("span",{className:"c4"},"What's the need for this group?"),r.a.createElement("span",{className:"c2"},"*")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- These books are some of the best popular books ever written, and you will definitely want to discuss them with others if you read them.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- You might get stuck at a point in a book, so others will help with comprehension and encouragement.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- It will keep you interested.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Be a marker of progress.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- encourage others too.")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"*"),r.a.createElement("span",{className:"c4"},"\xa0I want to read other books."),r.a.createElement("span",{className:"c2"},"*")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- Go ahead, as long as you read some of those mentioned here.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- If you want to add a book to the list, ask on the group.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- If you want to read a specific type of literature like Poetry, Fantasy fiction etc. then again, post on the group. We have recommendations.")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",null,"*"),r.a.createElement("span",{className:"c4"},"Bu-but... what's the point of reading all these?"),r.a.createElement("span",{className:"c2"},"*")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- So that you know of the very basic common themes and ideas prevalent in public English discourse around the world.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- These books are so important, many of their words have entered the dictionary.")),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c2"},"- You will never create anything of any worth or quality (arguments, speeches, stories, poems, articles etc. all included) if you don't read/listen to good works. This will get you started on the path.")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c7 c4"},"Try to notify on the group when starting a book, definitely do it when you finish one.")),r.a.createElement("p",{className:"c0 c3"},r.a.createElement("span",{className:"c2"})),r.a.createElement("p",{className:"c0"},r.a.createElement("span",{className:"c4 c7"},"Feel free to talk about the literature of any language in general or otherwise.")))))},e}return a}(n.Component)),x=(a(20),a(38),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=e.target.value;n.setState({query:t}),e.preventDefault();var a=n.state.query;n.props.filterSearch(a)},n.runSearch=function(e){e.preventDefault();var t=n.state.query;n.props.filterSearch(t)},n.render=function(){return r.a.createElement("div",{className:"search-wrapper"},r.a.createElement("input",{type:"text",name:"search",placeholder:n.props.placeholder,className:"search-bar",id:"search-bar",onChange:n.handleChange}))},n.state={query:""},n}return a}(n.Component)),q=(a(39),"https://frigid-fox.herokuapp.com/v1/users"),C=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(q,"/").concat(t),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@book.club",password:"android@superUser",_id:a||(Object(f.lread)("bkclbSid")?Object(f.lread)("bkclbSid").split(",")[0]:null)})});case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(q,"/toRead/post"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@book.club",password:"android@superUser",_id:Object(f.lread)("bkclbSid")?Object(f.lread)("bkclbSid").split(",")[0]:null,toRead:t})});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n.toRead);case 11:return e.t0=console,e.next=14,a.json();case 14:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.abrupt("return",null);case 17:e.next=23;break;case 19:return e.prev=19,e.t2=e.catch(0),console.log(e.t2),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n,r,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,n=t.password,r=t.name,e.prev=1,e.next=4,fetch("".concat(q,"/me"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@book.club",password:"android@superUser",_id:Object(f.lread)("bkclbSid")?Object(f.lread)("bkclbSid").split(",")[0]:null,updated:{email:a,password:n,name:r}})});case 4:if(!(c=e.sent).ok){e.next=12;break}return e.next=8,c.json();case 8:return o=e.sent,e.abrupt("return",o);case 12:return e.t0=console,e.next=15,c.json();case 15:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.abrupt("return",null);case 18:e.next=24;break;case 20:return e.prev=20,e.t2=e.catch(1),console.log(e.t2),e.abrupt("return",null);case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(q,"/toRead/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@book.club",password:"android@superUser",_id:Object(f.lread)("bkclbSid")?Object(f.lread)("bkclbSid").split(",")[0]:null})});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n.toRead);case 11:return e.t0=console,e.next=14,a.json();case 14:return e.t1=e.sent,e.t0.log.call(e.t0,e.t1),e.abrupt("return",null);case 17:e.next=23;break;case 19:return e.prev=19,e.t2=e.catch(0),console.log(e.t2),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a,t,n),e.prev=1,e.next=4,fetch("https://frigid-fox.herokuapp.com/v1/logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@book.club",password:"android@superUser",book:a,issuedTo:t,createdBy:n})});case 4:if(!(r=e.sent).ok){e.next=12;break}return e.next=8,r.json();case 8:return c=e.sent,e.abrupt("return",c);case 12:return e.abrupt("return",{message:"Some error occured."});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,a,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://frigid-fox.herokuapp.com/v1/logs",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://frigid-fox.herokuapp.com/v1/logs/".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r,c,o,s,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.issuedTo,r=a.returnedOn,c=a.issuedOn,s="https://frigid-fox.herokuapp.com/v1/logs/".concat(t),e.prev=2,e.next=5,fetch(s,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@book.club",password:"android@superUser",updated:{issuedTo:n,issuedOn:c,returnedOn:r,lastChangedBy:Object(f.lread)("bkclbSid").split(",")[0]}})});case 5:if(!(o=e.sent).ok){e.next=13;break}return e.next=9,o.json();case 9:return l=e.sent,e.abrupt("return",l);case 13:return e.abrupt("return",null);case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,a){return e.apply(this,arguments)}}(),R=function(){document.querySelector(".modal").style.display="block"},H=function(){document.querySelector(".modal").style.display="none"},B=0,U=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={bookId:"",issuer:""},e.componentDidMount=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("all");case 2:t=e.sent,a=document.querySelector(".issuer"),t.users.forEach((function(e){if(e._id!==Object(f.lread)("bkclbSid").split(",")[1]){var t=document.createElement("option");t.setAttribute("value",e.email+"-"+e._id),t.textContent=e.name?"".concat(e.name," | ").concat(e.email):e.email,t.setAttribute("class","issuer-option"),a.appendChild(t)}}));case 5:case"end":return e.stop()}}),e)}))),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},n,r))},e.runSubmit=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),document.querySelector(".submitIssue").disabled=!0,document.querySelector(".issue-book-status").innerHTML="Creating...",n=e.state.issuer||document.querySelector(".issuer").value.split("-")[1],r=e.state.bookId||document.querySelector(".bookId").value,c=Object(f.lread)("bkclbSid").split(",")[0],t.next=8,D(n,r,c);case 8:document.querySelector(".issue-book-status").innerHTML="Created.",document.querySelector(".submitIssue").disabled=!1,setTimeout(H,1e3),B=e.props.justIssued+1,e.props.changeStateValues("justIssued",B),window.location.reload();case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.render=function(){var t=e.props.bookId;return r.a.createElement("div",{className:"issue-book modal-with-white-bg"},r.a.createElement("form",{className:"log-details"},r.a.createElement("label",{htmlFor:"bookId",className:"issue-book-label"},"Book ID:"),r.a.createElement("hr",null),r.a.createElement("input",{type:"text",className:"bookId",disabled:!0,value:t,required:!0,name:"bookId"}),r.a.createElement("label",{htmlFor:"issuer",className:"issue-book-label"},"Issued To:"),r.a.createElement("hr",null),r.a.createElement("select",{className:"issuer",name:"issuer",required:!0},r.a.createElement("option",{value:"".concat(Object(f.lread)("bkclbSid").split(",")[1],"-").concat(Object(f.lread)("bkclbSid").split(",")[0]),id:"issuer-you",className:"issuer-option"},"You")),r.a.createElement("hr",null),r.a.createElement("span",{className:"issue-book-status"}),r.a.createElement("button",{className:"submitIssue",onClick:e.runSubmit},"Create Log")))},e}return a}(n.Component),W=(a(40),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.a.createElement("div",{className:"loader-wrap"},r.a.createElement("div",{id:"loader"}))},e}return a}(n.Component)),P=function(e){var t;return e.books&&(t=e.books.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,r.a.createElement("a",{href:"book?id=".concat(t._id),target:"_blank",rel:"noopener noreferrer",className:"catalogue-book-title"},t.title)),r.a.createElement("td",null,t.author),r.a.createElement("td",null,t.price),r.a.createElement("td",null,t.edition),r.a.createElement("td",null,t.year_written),r.a.createElement("td",null,t.form),Object(f.lread)("bkclbSid")?t.available?r.a.createElement("td",null,r.a.createElement("button",{onClick:function(a){a.preventDefault(),R(),window.ModalRef.setState({toLoad:r.a.createElement(U,{bookId:t._id,changeStateValues:e.changeStateValues,justIssued:e.justIssued})})},className:"catalogue-issue-button"},"Issue")):r.a.createElement("td",null,"Unavailable"):null,Object(f.lread)("bkclbSid")?e.toRead.includes(t._id)?r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){var a=Object(b.a)(p.a.mark((function a(n){var c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null)}),a.next=5,M(t._id);case 5:c=a.sent,console.log(c),e.changeStateValues("toRead",c),H();case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),style:{backgroundColor:"red"},className:"catalogue-issue-button"},"Remove")):r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){var a=Object(b.a)(p.a.mark((function a(n){var c;return p.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null)}),a.next=5,T([t._id]);case 5:c=a.sent,console.log(c),e.changeStateValues("toRead",c),H();case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),className:"catalogue-issue-button"},"Add")):null)}))),r.a.createElement("tbody",null,t)},F=function(e){return r.a.createElement("thead",{className:"catalogue-header"},r.a.createElement("tr",null,r.a.createElement("th",null,"Book"),r.a.createElement("th",null,"Author"),r.a.createElement("th",null,"Price"),r.a.createElement("th",null,"Edition"),r.a.createElement("th",null,"Year Written"),r.a.createElement("th",null,"Format"),Object(f.lread)("bkclbSid")?r.a.createElement("th",null,"Issue"):null,Object(f.lread)("bkclbSid")?r.a.createElement("th",null,"Want To Read"):null))},J=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={displayHeader:"free",justIssued:0,toRead:Object(f.lread)("bkclbSread")?Object(f.lread)("bkclbSread").split(","):[]},e.changeStateValues=function(t,a){e.setState(Object(s.a)({},t,a))},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.books,t=this.state,a=t.justIssued,n=t.toRead;return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement("table",{className:"fl-table"},r.a.createElement(F,null),r.a.createElement(P,{books:e,toRead:n,changeStateValues:this.changeStateValues,justIssued:a})))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).filterSearch=function(e){if(""===e)return n.setState({results:n.state.all});var t=new RegExp(e,"i"),a=n.state.results.books.filter((function(e,a){return!!t.test(e.title)||(!!t.test(e.author)||(!!t.test(e.edition)||(!!t.test(e.price)||!!t.test(e.year_written))))}));n.setState({filtered:a})},n.fetchBooks=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://frigid-fox.herokuapp.com/v1/books",{method:"GET",headers:{"Content-Type":"application/json"}});case 2:if(!(t=e.sent).ok){e.next=10;break}return e.next=6,t.json();case 6:a=e.sent,n.setState({results:a,all:a}),e.next=11;break;case 10:console.log("HTTP-Error: "+t.status);case 11:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null),closable:!1}),e.next=4,n.fetchBooks();case 4:document.title="Catalogue",H();case 6:case"end":return e.stop()}}),e)}))),n.render=function(){var e=n.props.authState;return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",{className:"page-header"},"Catalogue",r.a.createElement(x,{placeholder:"Book, Author, Price, Edition, Year, Availability...",filterSearch:n.filterSearch}))),r.a.createElement(J,{books:n.state.filtered||n.state.results.books,authState:e}))},n.state={results:{},filtered:null},n}return a}(n.Component),Y=(a(41),"https://m.me/bookclubiitismdhanbad?fbclid=IwAR3VL5CloWu70ZQKoza6k0T8C_buRt0fnDJ9KrxfyuerqDjmQZ-B7cThnNo"),G=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={status:""},e.render=function(){var t=e.state.status;return r.a.createElement("div",null,r.a.createElement("div",{className:"contact-wrapper"},r.a.createElement("form",{className:"contact-form",id:"contact-form",onSubmit:e.submitForm,action:"https://formspree.io/xyyneqzl",method:"POST"},r.a.createElement("label",{className:"contact-form-label",value:"Name"},"Name:"),r.a.createElement("input",{className:"contact-form-input contact-name",placeholder:"Write your name here..",name:"_replyTo",type:"text"}),r.a.createElement("label",{className:"contact-form-label",value:"Email"},"Email:"),r.a.createElement("input",{className:"contact-form-input contact-email",placeholder:"Let us know how to get back to you...",name:"email",type:"email"}),r.a.createElement("label",{className:"contact-form-label",value:"Message"},"Message:"),r.a.createElement("input",{className:"contact-form-input contact-message",placeholder:"What would you like to tell us...",name:"message",type:"text"}),r.a.createElement("div",{className:"contact-form-details"},r.a.createElement("span",{className:"fa fa-phone contact-emblem contact-extras"}),r.a.createElement("a",{href:Y,className:"contact-extras"},"Messenger"),r.a.createElement("span",{className:"fa fa-envelope-o contact-emblem"})," ",r.a.createElement("a",{className:"contact-extras",href:"book@iitism.ac.in",type:"email"},"book@iitism.ac.in"),"ERROR"===t&&r.a.createElement("span",{className:"fa fa-envelope-o contact-emblem"}),"ERROR"===t&&r.a.createElement("span",null,"Oops! There was an error.")),"SUCCESS"===t?r.a.createElement("p",null,"Thanks!"):r.a.createElement("button",{className:"contact-form-submit"},"Send Message"))))},e.submitForm=function(t){t.preventDefault();var a=document.getElementById("contact-form"),n=new FormData(a),r=new XMLHttpRequest;r.open("POST","https://formspree.io/xyyneqzl"),r.setRequestHeader("Accept","application/json"),r.onreadystatechange=function(){r.readyState===XMLHttpRequest.DONE&&(200===r.status?(a.reset(),e.setState({status:"SUCCESS"})):e.setState({status:"ERROR"}))},r.send(n)},e}return a}(n.Component),z=(a(42),function(){var e=Object(b.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://frigid-fox.herokuapp.com/v1/notices",{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}()),K=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://frigid-fox.herokuapp.com/v1/notices/".concat(t),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n,r){var c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://frigid-fox.herokuapp.com/v1/notices/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@Book.club",password:"android@superUser",updater:r,notice:{title:a,body:n}})});case 3:if(!(c=e.sent).ok){e.next=11;break}return e.next=7,c.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(p.a.mark((function e(t,a,n){var r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://frigid-fox.herokuapp.com/v1/notices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@Book.club",password:"android@superUser",createdBy:n,notice:{title:t,body:a}})});case 3:if(!(r=e.sent).ok){e.next=11;break}return e.next=7,r.json();case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,a,n){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://frigid-fox.herokuapp.com/v1/notices/".concat(t),{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:"app@Book.club",password:"android@superUser"})});case 3:if(!(a=e.sent).ok){e.next=11;break}return e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.abrupt("return",null);case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),$=function(e){if(!e.notices)return r.a.createElement("div",{className:"warning-card"},r.a.createElement("div",{className:"warning-card-text"},r.a.createElement("h4",null,r.a.createElement("b",null,"Loading...")),r.a.createElement("p",null,r.a.createElement("em",null,"If this message does not go away within a minute, try reloading or check your internet connection."))));var t=e.notices.map((function(e,t){return r.a.createElement("div",{className:"notice-card",key:t},r.a.createElement("div",{className:"notice-card-text"},r.a.createElement("a",{href:"/notice?id=".concat(e._id),target:"_blank",rel:"noopener noreferrer",className:"notice-card-text-title"},r.a.createElement("h4",null,e.title)),r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.body}})))}));return r.a.createElement("div",{className:"notice-card-wrapper"},r.a.createElement("div",{className:"notice-card"},r.a.createElement("div",{className:"notice-card-text"},r.a.createElement("h4",null,r.a.createElement("b",null,"Sample Notice")),r.a.createElement("p",null,"Notice content."))),t)},ee=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={notices:null},e.componentDidMount=Object(b.a)(p.a.mark((function t(){var a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z();case 2:if(!(a=t.sent)){t.next=7;break}e.setState({notices:a.notices}),t.next=9;break;case 7:return R(),t.abrupt("return",window.ModalRef.setState({toLoad:r.a.createElement("div",null,"Some error occured.")}));case 9:document.title="Notices";case 10:case"end":return t.stop()}}),t)}))),e.noticeCreator=function(e){e.preventDefault(),window.open("/notice")},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"notices-wrapper"},r.a.createElement(O,{header:"Notices"}),r.a.createElement("button",{onClick:this.noticeCreator,className:"notices-creator"},"Create New Notice"),r.a.createElement($,{notices:this.state.notices}))}}]),a}(n.Component),te=(a(43),a(44),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("button",{className:"burger",onClick:function(){document.documentElement.clientWidth<=650?(document.getElementById("mySidenav").style.width="100vw",document.querySelector(".main-content").style.marginLeft="100vw",document.querySelector(".burger").style.display="none"):(document.getElementById("mySidenav").style.width="18vw",document.querySelector(".main-content").style.marginLeft="18vw",document.querySelector(".main-content").style.width="82vw",document.querySelector(".navbar").style.width="82vw",document.querySelector(".burger").style.display="none")}},"\u2630")}}]),a}(n.Component)),ae=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={menu:"closed",typeWriter:1},e.attemptSignout=function(){g()&&e.props.switchAuthState(!1),e.toggleMenu(),window.location.reload()},e.toggleMenu=function(){"closed"===e.state.menu&&e.props.authState?(document.getElementById("logout-btn").style.display="block",e.setState({menu:"open"})):(document.getElementById("logout-btn").style.display="none",e.setState({menu:"closed"}))},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"navbar"},r.a.createElement(te,null),r.a.createElement("span",{href:"#home",className:"page-title",id:"site-title"},"Book Club"),r.a.createElement("span",{id:"topbar-social-wrapper"},r.a.createElement("a",{id:"topbar-social",href:"https://www.facebook.com/bookclubiitismdhanbad",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:"/facebook-logo.svg",height:"32px",width:"32px",alt:"/bookclubiitismdhanbad"}))),r.a.createElement("prof",{className:"logout-btn",id:"logout-btn",onClick:this.attemptSignout},"Signout"),r.a.createElement("prof",{className:"custom profile",onClick:this.toggleMenu},r.a.createElement("div",{className:"dropdown"},r.a.createElement("img",{alt:"avatar",className:"avatar",src:Object(f.lread)("bkclbSid")?"https://frigid-fox.herokuapp.com/v1/users/".concat(Object(f.lread)("bkclbSid").split(",")[0],"/avatar"):"/bookclub-logo.png",onError:function(){document.querySelector(".avatar").src="/bookclub-logo.png"}}))))}}]),a}(n.Component),ne=a(24),re=(a(45),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){Object(ne.swrite)("redirectTo",this.props.redirectTo)}},{key:"render",value:function(){return r.a.createElement("span",{className:"auth-warning-text"},"You need to be logged in to access this page.")}}]),a}(n.Component)),ce=a(25),oe=a(7),se=function(){var e=Object(b.a)(p.a.mark((function e(t,a){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,"/").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if(500===(n=e.sent).status&&(le("Invalid request. This tab will close in 3 seconds."),setTimeout(window.close,3e3)),!n.ok){e.next=12;break}return e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:400===n.statusCode&&le("No such book found.");case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),le("Some error occured, you will be redirected back to the catalogue.");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}(),le=function(e){var t=document.querySelector(".book-overlay"),a=document.querySelector(".book-overlay-text");t.style.display="block",a.innerHTML=e},ue=(a(46),function(e){var t=Object.keys(e.book).map((function(t){return["cover","__v"].includes(t)?null:r.a.createElement("tr",{key:t},r.a.createElement("th",{key:t},t.toLocaleUpperCase()),r.a.createElement("td",null,r.a.createElement("textarea",{disabled:!0},JSON.stringify(e.book[t]).replace(/"/g,""))))}));return r.a.createElement("tbody",null,t,r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("button",{className:"edit-button"}," Edit ")),r.a.createElement("td",null,r.a.createElement("button",{className:"save-button"}," Save "))))}),ie=function(e){return r.a.createElement("div",{className:"book-details"},r.a.createElement("div",{className:"book-cover-wrapper"},r.a.createElement("img",{src:e.book.cover?e.book.cover.medium:null,alt:"This book's cover.",className:"book-cover"})),r.a.createElement("div",{className:"book-details-form-wrapper"},r.a.createElement("form",{className:"book-details-form"},r.a.createElement("div",{className:"book-table-wrapper"},r.a.createElement("table",{className:"book-table"},r.a.createElement(ue,{book:e.book}))))))},me=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null)}),e.next=4,se("https://frigid-fox.herokuapp.com/v1/books",n.state.id);case 4:(t=e.sent)&&(n.setState({book:t}),window.title=t.title),H();case 7:case"end":return e.stop()}}),e)}))),n.render=function(){return r.a.createElement("div",{className:"Book"},r.a.createElement("div",{className:"book-overlay"},r.a.createElement("div",{className:"book-overlay-text"})),r.a.createElement(O,{header:"Details"}),n.state.book?r.a.createElement(ie,{book:n.state.book}):null)};var c={};return window.location.search.replace("?","").split("&").forEach((function(e,t){c[e.split("=")[0]]=e.split("=")[1]})),n.state={id:c.id},n}return a}(n.Component),de=(a(47),function(e){var t=null;return e.logs&&(t=e.logs.map((function(e,t){var a,n=new Date(e.issuedOn).toLocaleDateString();return a=0!==e.returnedOn?new Date(e.returnedOn).toLocaleDateString():"Not yet returned.",r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,r.a.createElement("a",{href:"/user?id=".concat(e.issuedTo),target:"_blank",rel:"noopener noreferrer",className:"logs-issuedTo"},e.issuedTo)),r.a.createElement("td",null,r.a.createElement("a",{href:"/user?id=".concat(e.createdBy),target:"_blank",rel:"noopener noreferrer",className:"logs-logger"},e.createdBy)),r.a.createElement("td",null,r.a.createElement("a",{href:"/book?id=".concat(e.book),target:"_blank",rel:"noopener noreferrer",className:"logs-book"},e.book)),r.a.createElement("td",null,a),Object(f.lread)("bkclbSid")&&"true"===Object(f.lread)("bkclbSid").split(",")[2]?r.a.createElement("td",null,r.a.createElement("button",{onClick:function(t){t.preventDefault(),window.open("/log?id=".concat(e._id))},className:"logs-modify-button"},"Modify")):null)}))),r.a.createElement("tbody",null,t)}),pe=function(e){return r.a.createElement("thead",{className:"logs-header"},r.a.createElement("tr",null,r.a.createElement("th",null,"Issued On"),r.a.createElement("th",null,"Issuer"),r.a.createElement("th",null,"Logger"),r.a.createElement("th",null,"Book"),r.a.createElement("th",null,"Returned On"),Object(f.lread)("bkclbSid")&&"true"===Object(f.lread)("bkclbSid").split(",")[2]?r.a.createElement("th",{className:"logs-modify-button"},"Modify"):null))},be=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.logs;return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement("table",{className:"fl-table"},r.a.createElement(pe,null),r.a.createElement(de,{logs:e})))}}]),a}(n.Component),fe=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).filterSearch=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return n.setState({logs:n.state.all}),e.abrupt("return");case 3:a=new RegExp(t,"i"),r=n.state.logs,c=r.filter((function(e){return!!a.test(e.book)||(!!a.test(e.issuer)||(!!a.test(e.logger)||(!!a.test(e.issuedOn)||!!a.test(e.returnedOn))))})),n.setState({filtered:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null),closable:!1}),e.next=4,n.setLogs();case 4:document.title="Logs",H();case 6:case"end":return e.stop()}}),e)}))),n.setLogs=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(t=e.sent){e.next=7;break}return H(),R(),e.abrupt("return",window.ModalRef.setState({toLoad:r.a.createElement("div",null,"Some error occured.")}));case 7:n.setState({logs:t,all:t});case 8:case"end":return e.stop()}}),e)}))),n.render=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",{className:"page-header"},"Logs",r.a.createElement(x,{filterSearch:n.filterSearch,placeholder:"Book, Issuer, Logger, Date..."}))),r.a.createElement(be,{logs:n.state.filtered||n.state.logs}))},n.state={logs:[],filtered:null},n}return a}(n.Component),he=(a(48),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).render=function(){return r.a.createElement("div",{className:"formatting-instructions modal-with-white-bg"},r.a.createElement("h4",null,"You can use basic HTML syntax to format the notice body. For example:"),r.a.createElement("p",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("code",null,"<b></b>")," makes text bold. "),r.a.createElement("li",null,r.a.createElement("code",null,"<i></i>")," makes text italic."),r.a.createElement("li",null,r.a.createElement("code",null,"<code></code>")," formats text as code."),r.a.createElement("li",null,r.a.createElement("code",null,"<u></u>")," underlines text."),r.a.createElement("li",null,r.a.createElement("code",null,"<img src=".concat("image-url"," />"))," adds images."),r.a.createElement("li",null," In fact, you can also add youtube iframes. Use the share button under a video to get an HTML Snippet."))))},e}return a}(n.Component)),Ee=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={id:e.props.id,title:"",body:""},e.componentDidMount=function(){e.setState({title:e.props.notice.title,body:e.props.notice.body})},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},n,r))},e.runSubmit=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r,c,o,s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),document.querySelector(".notice-editor-alert-area").innerHTML="Saving edits...",document.querySelector(".notice-editor-form-title").disabled=!0,document.querySelector(".notice-editor-form-body").disabled=!0,document.querySelector(".notice-editor-form-submit").disabled=!0,document.querySelector(".notice-editor-form-delete").disabled=!0,n=Object(f.lread)("bkclbSid").split(",")[0],r=e.state,c=r.id,o=r.title,s=r.body,!(c.length>0)){t.next=13;break}return t.next=11,Z(c,o,s,n);case 11:t.next=15;break;case 13:return t.next=15,X(o,s,Object(f.lread)("bkclbSid").split(",")[0]);case 15:document.querySelector(".notice-editor-alert-area").innerHTML="Saved.",document.querySelector(".notice-editor-form-title").disabled=!1,document.querySelector(".notice-editor-form-body").disabled=!1,document.querySelector(".notice-editor-form-submit").disabled=!1,document.querySelector(".notice-editor-form-delete").disabled=!1;case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.runDelete=function(){var t=Object(b.a)(p.a.mark((function t(a){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),document.querySelector(".notice-editor-alert-area").innerHTML="Deleting...",document.querySelector(".notice-editor-form-title").disabled=!0,document.querySelector(".notice-editor-form-body").disabled=!0,document.querySelector(".notice-editor-form-submit").disabled=!0,document.querySelector(".notice-editor-form-delete").disabled=!0,!((n=e.state.id).length>0)){t.next=10;break}return t.next=10,Q(n);case 10:document.querySelector(".notice-editor-alert-area").innerHTML="Deleted.",document.querySelector(".notice-editor-form-title").disabled=!1,document.querySelector(".notice-editor-form-body").disabled=!1,document.querySelector(".notice-editor-form-submit").disabled=!1,document.querySelector(".notice-editor-form-delete").disabled=!0,R(),window.ModalRef.setState({toLoad:r.a.createElement("div",{style:{background:"#fff",padding:"20px",border:"2px solid white"}},r.a.createElement("em",null,"Notice deleted successfully."),r.a.createElement("br",null),"You can continue editing to create a new notice or close this tab to discard changes.")});case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.render=function(){return document.title="Notice Editor",r.a.createElement("div",{className:"notice-editor-wrapper"},r.a.createElement(O,{header:"Notice Editor"}),r.a.createElement("form",{className:"notice-editor-form"},r.a.createElement("p",{className:"notice-editor-info"},"An edit cannot be reverted. Only admins can make changes to notices."),r.a.createElement("input",{type:"text",name:"title",className:"notice-editor-form-title",onChange:e.handleChange,defaultValue:e.props.notice.title,placeholder:"Notice Title",required:!0}),r.a.createElement("textarea",{name:"body",id:"notice-editor-form-body",className:"notice-editor-form-body",onChange:e.handleChange,defaultValue:e.props.notice.body,placeholder:"Notice Body",required:!0}),r.a.createElement("span",{className:"notice-editor-alert-area"}),Object(f.lread)("bkclbSid")&&"true"===Object(f.lread)("bkclbSid").split(",")[2]?r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("button",{className:"notice-editor-form-submit",onClick:e.runSubmit},"Save"),r.a.createElement("button",{className:"notice-editor-form-delete",onClick:e.runDelete},"Delete")):null,r.a.createElement("hr",null),r.a.createElement("div",{className:"notice-preview-area",dangerouslySetInnerHTML:{__html:e.state.body}})))},e}return a}(n.Component),ge=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(),window.ModalRef.setState({toLoad:r.a.createElement("div",null,r.a.createElement(he,null))}),!(n.state.id.length>0)){e.next=9;break}return e.next=5,K(n.state.id);case 5:(t=e.sent)&&n.setState({notice:t}),e.next=10;break;case 9:n.setState({notice:{title:"",body:""}});case 10:case"end":return e.stop()}}),e)}))),n.render=function(){var e=n.state,t=e.notice,a=e.id;return r.a.createElement("div",{className:"Notice"},n.state.notice?r.a.createElement(Ee,{notice:t,id:a}):r.a.createElement("div",null,"Nothing will appear here if the request is invalid. Only if you are an admin, will this edit work."))};var c={};return window.location.search.replace("?","").split("&").forEach((function(e,t){c[e.split("=")[0]]=e.split("=")[1]})),c.id?n.state={id:c.id}:n.state={id:""},n}return a}(n.Component),ve=(a(49),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={id:e.props.id,issuedOn:"",returnedOn:"",issuedTo:"",createdBy:""},e.fetchIssuedToOptions=function(){var t=Object(b.a)(p.a.mark((function t(a,n){var r,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C("all");case 2:r=t.sent,c=document.querySelector(".log-editor-form-issuedTo"),r.users.forEach((function(t){if(t._id!==Object(f.lread)("bkclbSid").split(",")[1]){var a=document.createElement("option"),n=t.name?"".concat(t.name," | ").concat(t.email):t.email;a.textContent=n,a.setAttribute("class","issuedTo-option"),a.setAttribute("value",t._id),e.props.log.issuedTo===t._id&&a.setAttribute("selected",!0),c.appendChild(a)}})),e.setState({users:r.users,issuedOn:a,returnedOn:n});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),e.componentDidMount=Object(b.a)(p.a.mark((function t(){var a,n,r,c,o,s,l,u,i,m,d,b,f;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.log,n=a.issuedOn,r=a.returnedOn,c="",o="",s=new Date(n),l=new Date(r),u=s.getFullYear(),i=s.getMonth().toString().length<2?"0".concat(s.getMonth().toString()):s.getMonth().toString(),m=s.getDate().toString().length<2?"0".concat(s.getDate().toString()):s.getDate().toString(),d=l.getFullYear(),b=l.getMonth().toString().length<2?"0".concat(s.getMonth().toString()):l.getMonth().toString(),f=l.getDate().toString().length<2?"0".concat(s.getDate().toString()):l.getDate().toString(),c+="".concat(u,"-").concat(i,"-").concat(m),o+="".concat(d,"-").concat(b,"-").concat(f),t.next=14,e.fetchIssuedToOptions(c,o);case 14:H();case 15:case"end":return t.stop()}}),t)}))),e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(s.a)({},n,r))},e.runSubmit=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r,c,o,s,l,u,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),document.querySelector(".log-editor-alert-area").innerHTML="Saving edits...",document.querySelector(".log-editor-form-issuedOn").disabled=!0,document.querySelector(".log-editor-form-returnedOn").disabled=!0,document.querySelector(".log-editor-form-issuedTo").disabled=!0,document.querySelector(".log-editor-form-submit").disabled=!0,n=e.state,r=n.id,c=n.issuedOn,o=n.issuedTo,s=n.returnedOn,l=c?Date.parse(c):e.props.log.issuedOn,u=s?Date.parse(s):e.props.log.issuedOn,t.next=11,_(r,{issuedOn:l,issuedTo:o,returnedOn:u});case 11:i=t.sent,document.querySelector(".log-editor-alert-area").innerHTML=i?"Saved.":"Some error occured.",document.querySelector(".log-editor-form-issuedOn").disabled=!1,document.querySelector(".log-editor-form-returnedOn").disabled=!1,document.querySelector(".log-editor-form-issuedTo").disabled=!1,document.querySelector(".log-editor-form-submit").disabled=!1;case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.render=function(){return r.a.createElement("div",{className:"log-editor-wrapper"},r.a.createElement("form",{className:"log-editor-form"},r.a.createElement("div",{className:"log-editor-info"},"Make sure the dates are always filled. Log id: ","".concat(e.state.id),". Book id: ","".concat(e.props.log.book),"."),r.a.createElement("label",{htmlFor:"issuedOn",className:"log-editor-form-label"},"Issued On:"),r.a.createElement("input",{type:"date",name:"issuedOn",className:"log-editor-form-issuedOn",onChange:e.handleChange,defaultValue:e.state.issuedOn,required:!0}),r.a.createElement("hr",null),r.a.createElement("label",{htmlFor:"returnedOn",className:"log-editor-form-label"},"Returned On:"),r.a.createElement("input",{name:"returnedOn",type:"date",id:"log-editor-form-returnedOn",className:"log-editor-form-returnedOn",onChange:e.handleChange,defaultValue:e.state.returnedOn,required:!0}),r.a.createElement("hr",null),r.a.createElement("label",{htmlFor:"issuedTo",className:"log-editor-form-label"},"Who was this book issued to?"),r.a.createElement("select",{className:"log-editor-form-issuedTo",name:"issuedTo",required:!0},r.a.createElement("option",{value:Object(f.lread)("bkclbSid").split(",")[1],id:"issuedTo-you",className:"issuedTo-option"},"You")),r.a.createElement("p",{className:"log-editor-alert-area"}),r.a.createElement("hr",null),r.a.createElement("button",{className:"log-editor-form-submit",onClick:e.runSubmit},"Save")))},e}return a}(n.Component)),ye=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null),closable:!1}),e.next=4,I(n.state.id);case 4:(t=e.sent)&&(n.setState({log:t}),document.title="Log Editor");case 6:case"end":return e.stop()}}),e)}))),n.render=function(){var e=n.state,t=e.log,a=e.id;return r.a.createElement("div",{className:"Log"},n.state.log?r.a.createElement(ve,{log:t,id:a}):r.a.createElement("div",null,"Nothing will appear here if the request is invalid. Only if you are an admin, will this edit work."))};var c={};return window.location.search.replace("?","").split("&").forEach((function(e,t){c[e.split("=")[0]]=e.split("=")[1]})),n.state={id:c.id},n}return a}(n.Component),we=(a(50),[]),ke=function(e){var t=function(){document.querySelector(".user-password").type="text"},a=Object.keys(e.user).map((function(t){return["avatar","format","superUser","toRead","fid","id"].includes(t)||"password"===t&&Object(f.lread)("bkclbSid").split(",")[0]!==e.user._id?null:(we.push(t),"password"!==t?r.a.createElement("tr",{key:t},r.a.createElement("th",{key:t},t.toLocaleUpperCase()),r.a.createElement("td",null,r.a.createElement("input",{type:t,disabled:!0,defaultValue:"string"===typeof e.user[t]?e.user[t].replace(/"/g,""):e.user[t],className:"user-".concat(t," user-fields-textarea")}))):r.a.createElement("tr",{key:t},r.a.createElement("th",{key:t},t.toLocaleUpperCase()),r.a.createElement("td",null,r.a.createElement("input",{type:t,disabled:!0,defaultValue:"string"===typeof e.user[t]?e.user[t].replace(/"/g,""):e.user[t],className:"user-".concat(t," user-fields-textarea")})),r.a.createElement("td",null,r.a.createElement("button",{disabled:!0,className:"user-".concat(t," user-fields-textarea"),id:"show-password-button"},"Show"))))})),n=function(){var t=Object(b.a)(p.a.mark((function t(a){var n,r,c,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),document.querySelector(".user-edit-status")&&(document.querySelector(".user-edit-status").innerHTML="Saving..."),document.querySelector(".user-save-button").disabled=!0,["name","email","password"].forEach((function(e){document.querySelector(".user-".concat(e))&&(document.querySelector(".user-".concat(e)).disabled=!1)})),document.querySelector(".user-name")&&(n=document.querySelector(".user-name")),document.querySelector(".user-email")&&(r=document.querySelector(".user-email")),document.querySelector(".user-password")&&(c=document.querySelector(".user-password")),o={},e.user.name!==n&&(o.name=n.value),e.user.email!==r&&(o.email=r.value),e.user.password!==c&&(o.password=c.value),t.next=14,L(o);case 14:document.querySelector(".user-edit-status")&&(document.querySelector(".user-edit-status").innerHTML="Saved"),document.querySelector(".user-edit-button").disabled=!1,e.resetUser();case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function c(){var t=new FormData,a=new XMLHttpRequest;a.open("POST","https://frigid-fox.herokuapp.com/v1/users/me/avatar",!0),t.append("email","app@book.club"),t.append("password","android@superUser"),t.append("_id",e.user._id),t.append("avatar",document.querySelector("#avatar-select-button").files[0],document.querySelector("#avatar-select-button").files[0].name),console.log(document.querySelector("#avatar-select-button").files[0]),a.send(t),a.onload=function(t){202===a.status?(console.log("Uploaded!"),document.querySelector(".user-edit-button").disabled=!1,document.querySelector(".user-edit-status")&&(document.querySelector(".user-edit-status").innerHTML="Saved."),e.resetUser()):(console.log(a.response),document.querySelector(".user-edit-button").disabled=!1,document.querySelector(".user-edit-status")&&setTimeout((function(){document.querySelector(".user-edit-status").innerHTML="Error."}),15e3))}}return we.includes("name")?r.a.createElement("tbody",null,a,Object(f.lread)("bkclbSid").split(",")[0]===e.user._id?r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement("form",{method:"POST",action:"https://frigid-fox.herokuapp.com/v1/users/me/avatar",encType:"multipart/form-data",className:"avatar-change-form"},r.a.createElement("input",{type:"file",className:"avatar-select-button",id:"avatar-select-button",accept:".png, .jpg, .tiff",required:!0}),r.a.createElement("button",{className:"avatar-save-button",type:"submit",onClick:function(e){document.querySelector(".user-edit-button").disabled=!0,document.querySelector(".user-edit-status")&&(document.querySelector(".user-edit-status").innerHTML="Saving..."),c(),e.preventDefault()}},"Change Avatar"))),r.a.createElement("td",null,r.a.createElement("button",{className:"user-edit-button",onClick:function(e){e.preventDefault();["name","email","password"].forEach((function(e){document.querySelector(".user-".concat(e))&&(document.querySelector(".user-".concat(e)).disabled=!1,"password"===e&&(document.querySelector("#show-password-button").disabled=!1,document.querySelector("#show-password-button").addEventListener("click",(function(e){e.preventDefault(),t()})),document.querySelector("#show-password-button").addEventListener("mousedown",(function(e){e.preventDefault(),t()})),document.querySelector("#show-password-button").addEventListener("mouseup",(function(e){e.preventDefault(),document.querySelector(".user-password").type="password"}))))})),document.querySelector(".user-edit-status")&&(document.querySelector(".user-edit-status").innerHTML="Editing..."),document.querySelector(".user-save-button")&&(document.querySelector(".user-edit-button").disabled=!0,document.querySelector(".user-save-button").disabled=!1,document.querySelector(".user-save-button").addEventListener("click",n))}}," Edit ")),r.a.createElement("td",null,r.a.createElement("button",{className:"user-save-button",disabled:!0}," Save ")),r.a.createElement("td",null,r.a.createElement("span",{className:"user-edit-status"}))):null):r.a.createElement("tr",{key:"name"},r.a.createElement("th",{key:"name"},"NAME"),r.a.createElement("td",null,r.a.createElement("input",{type:"name",name:"name",disabled:!0,className:"user-name user-fields-textarea"})))},Se=function(e){return r.a.createElement("div",{className:"user-details"},r.a.createElement("div",{className:"user-details-form-wrapper"},r.a.createElement("form",{className:"user-details-form"},r.a.createElement("div",{className:"user-avatar-wrapper"},r.a.createElement("span",{className:"user-avatar-wrapper"},r.a.createElement("img",{src:"https://frigid-fox.herokuapp.com/v1/users/".concat(e.user._id,"/avatar"),onError:function(){document.querySelector(".user-avatar").src="/bookclub-logo.png"},className:"user-avatar",alt:""}))),r.a.createElement("div",{className:"user-table-wrapper"},r.a.createElement("table",{className:"user-table"},r.a.createElement(ke,{user:e.user,resetUser:e.resetUser}))))))},Ne=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).resetUser=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.state.id){e.next=4;break}return e.next=3,C(n.state.id);case 3:t=e.sent;case 4:t&&(Object(f.lwrite)("bkclbSid",[t._id,t.email,t.admin,t.superUser]),n.setState({user:t}));case 5:case"end":return e.stop()}}),e)}))),n.componentDidMount=Object(b.a)(p.a.mark((function e(){var t,a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null),closable:!1}),!n.state.id){e.next=6;break}return e.next=5,C(n.state.id);case 5:t=e.sent;case 6:return t&&(n.setState({user:t,toRead:t.toRead}),document.title=t.email),e.next=9,C("issued/all",n.state.id);case 9:(a=e.sent)&&(console.log(a.books),c=a.books.map((function(e){return{book:e.book.title,issuedTo:e.issuedTo,issuedOn:e.issuedOn,returnedOn:e.returnedOn,createdBy:e.createdBy}})),n.setState({logs:c})),H();case 12:case"end":return e.stop()}}),e)}))),n.render=function(){return r.a.createElement("div",{className:"User"},r.a.createElement("div",{className:"user-overlay"},r.a.createElement("div",{className:"user-overlay-text"})),r.a.createElement(O,{header:"Details"}),n.state.user?r.a.createElement(Se,{user:n.state.user,resetUser:n.resetUser}):null,r.a.createElement(O,{header:"Issued Books"}),n.state.user?r.a.createElement(be,{logs:n.state.logs}):null,r.a.createElement(O,{header:"Want-To-Read Shelf"}),n.state.user?r.a.createElement(J,{books:n.state.toRead}):null)};var c={};return window.location.search.replace("?","").split("&").forEach((function(e,t){c[e.split("=")[0]]=e.split("=")[1]})),n.state={id:c.id},n}return a}(n.Component),Oe=(a(21),function(e){var t=null,a=0;return e.users&&(t=e.users.map((function(e,t){return a+=1,r.a.createElement("tr",{key:t},r.a.createElement("td",null,a),r.a.createElement("td",null,"..."),r.a.createElement("td",null,r.a.createElement("a",{href:"/user?id=".concat(e._id),target:"_blank",rel:"noopener noreferrer",className:"users-name"},e.name)),r.a.createElement("td",null,r.a.createElement("a",{href:"/user?id=".concat(e._id),target:"_blank",rel:"noopener noreferrer",className:"users-email"},e.email)),r.a.createElement("td",null,e.admin?"Yes":"No"),r.a.createElement("td",null,new Date(e.createdAt).toLocaleDateString()),r.a.createElement("td",null,r.a.createElement("a",{href:"/user?id=".concat(e._id),target:"_blank",rel:"noopener noreferrer",className:"users-id"},e._id)))}))),r.a.createElement("tbody",null,t)}),je=function(e){return r.a.createElement("thead",{className:"users-header"},r.a.createElement("tr",null,r.a.createElement("th",null,"Order"),r.a.createElement("th",null,"Avatar"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null,"Admin"),r.a.createElement("th",null,"Joined"),r.a.createElement("th",null,"Member ID")))},xe=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.users;return r.a.createElement("div",{className:"table-wrapper"},r.a.createElement("table",{className:"fl-table"},r.a.createElement(je,null),r.a.createElement(Oe,{users:e})))}}]),a}(n.Component),qe=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).filterSearch=function(){var e=Object(b.a)(p.a.mark((function e(t){var a,r,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return n.setState({users:n.state.all}),e.abrupt("return");case 3:a=new RegExp(t,"i"),r=n.state.users,c=r.filter((function(e){return!!a.test(e.name)||(!!a.test(e.email)||(!!a.test(e._id)||(!!a.test(e.format)||(!!a.test(e.mode)||!!a.test(e.admin?"yes":"no")))))})),n.setState({filtered:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.componentDidMount=Object(b.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(),window.ModalRef.setState({toLoad:r.a.createElement(W,null),closable:!1}),e.next=4,n.setUsers();case 4:H();case 5:case"end":return e.stop()}}),e)}))),n.setUsers=Object(b.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("all");case 2:if(t=e.sent){e.next=6;break}return R(),e.abrupt("return",window.ModalRef.setState({toLoad:r.a.createElement("div",null,"Some error occured.")}));case 6:n.setState({users:t.users,all:t.users}),document.title="Members";case 8:case"end":return e.stop()}}),e)}))),n.render=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",{className:"page-header"},"Members",r.a.createElement(x,{filterSearch:n.filterSearch,placeholder:"Name, Email, ID, Joined..."}))),r.a.createElement(xe,{users:n.state.filtered||n.state.users}))},n.state={users:[],filtered:null},n}return a}(n.Component),Ce=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={pages:[{name:"Home",xml:r.a.createElement(j,null)},{name:"Catalogue",xml:r.a.createElement(V,null)},{name:"Contact",xml:r.a.createElement(G,null)},{name:"Notices",xml:r.a.createElement(ee,null)}],pages2:{Home:r.a.createElement(j,null),Catalogue:r.a.createElement(V,null),Notices:r.a.createElement(ee,null),Contact:r.a.createElement(G,null),AuthWarning:r.a.createElement(re,null),Logs:r.a.createElement(fe,null),Members:r.a.createElement(qe,null),Notice:r.a.createElement(ge,null),Log:r.a.createElement(ye,null),User:r.a.createElement(Ne,null),Book:r.a.createElement(me,null)}},e.render=function(){document.title="Book Club - Home";var t=e.props,a=t.authState,n=t.active,c=t.switchAuthState;return r.a.createElement(ce.a,null,r.a.createElement("div",{className:"main-content"},r.a.createElement(ae,{authState:a,switchAuthState:c}),r.a.createElement(oe.a,{exact:!0,path:"/"},"Home"===n||"Catalogue"===n||"Contact"===n||"Logs"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/catalogue"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/notices"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/contact"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/book"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/notice"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/log"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/user"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning),r.a.createElement(oe.a,{path:"/members"},"Catalogue"===n||"Notices"===n||"Home"===n||!1!==a?e.state.pages2[n]:e.state.pages2.AuthWarning)))},e}return a}(n.Component),Te=(a(56),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={toLoad:null,closable:!0},e.render=function(){var t=e.state,a=t.closable,n=t.toLoad;return window.addEventListener("keydown",(function(e){if(console.log("closability:",a),"Escape"===e.key&&a)H();else if(!a)return})),r.a.createElement("div",{id:"myModal",className:"modal"},r.a.createElement("div",{className:"modal-content"},a?r.a.createElement("span",{className:"close",onClick:function(e){e.preventDefault(),H()}},"\xd7"):null,r.a.createElement("div",null,n||null)))},e}return a}(n.Component)),Le=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){document.querySelector("body").style.background="url(".concat("","/book-background").concat(Math.floor(5*Math.random()),".jpg)"),document.querySelector("body").style.backgroundAttachment="fixed",document.documentElement.clientWidth<=850?(document.getElementById("mySidenav").style.width="100vw",document.querySelector(".main-content").style.marginLeft="100vw",document.querySelector(".burger").style.display="none"):(document.getElementById("mySidenav").style.width="18vw",document.querySelector(".main-content").style.marginLeft="18vw",document.querySelector(".main-content").style.width="82vw",document.querySelector(".navbar").style.width="82vw",document.querySelector(".burger").style.display="none"),function(){var e=Object(f.lread)("bkclbSid");return null!==e&&void 0!==e}()&&n.switchAuthState(!0),"/catalogue"===window.location.pathname&&n.setState({active:"Catalogue"}),"/contact"===window.location.pathname&&n.setState({active:"Contact"}),"/notices"===window.location.pathname&&n.setState({active:"Notices"}),"/logs"===window.location.pathname&&n.setState({active:"Logs"}),"/members"===window.location.pathname&&n.setState({active:"Members"}),"/book"===window.location.pathname&&n.setState({active:"Book"}),"/notice"===window.location.pathname&&n.setState({active:"Notice"}),"/log"===window.location.pathname&&n.setState({active:"Log"}),"/user"===window.location.pathname&&n.setState({active:"User"})},n.changeActivePage=function(e,t){var a=n.state.pages[t];n.setState({active:a}),document.documentElement.clientWidth<=850&&y()},n.switchAuthState=function(e){n.setState({authState:e})},n.changeStateElement=function(e,t){n.setState(Object(s.a)({},e,t))},n.render=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Te,{ref:function(e){window.ModalRef=e}}),r.a.createElement(N,{active:n.state.active,authState:n.state.authState,pages:n.state.pages,changeActivePage:n.changeActivePage,switchAuthState:n.switchAuthState}),r.a.createElement(Ce,{active:n.state.active,authState:n.state.authState,switchAuthState:n.switchAuthState}))},n.state={pages:["Home","Catalogue","Notices","Logs","Members","Contact"],active:"Home",authState:!1},n}return a}(n.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Le,null)),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.ce83da47.chunk.js.map